<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<link rel="stylesheet" href="/css/demo.css" type="text/css" />
<script type="text/javascript" src="/js/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="/js/jquery.knob.js"></script>
<script type="text/javascript" src="/js/jquery.flot.js"></script>
<script type="text/javascript" src="/js/jquery.flot.crosshair.js"></script>
<script type="text/javascript">

	var dataX = [[10,75],[20,20],[30,30],[40,10],[50,9],[60,50]];
	$(document).ready(function(){
		$("#myinput1").knob({
			angleArc : 120,
			angleOffset : -60,
			thickness : ".1",
			width : "100",
			fgColor : "#66CC66",
			change : function(){
				var fgColor;
				dataX[0][1] = this.cv;
				drawGraph("placeholder1", "line");
				drawGraph("placeholder2", "bar");
				if(this.cv < 30){
					fgColor = "#FFCC11";
				} else if(this.cv >= 30 && this.cv <=80) {
					fgColor = "#66CC66";
				} else {
					fgColor = "#FF0000";
				}
				$("#myinput1")
			    .trigger(
			        'configure',
			        {
			        "fgColor":fgColor
			        }
			    ).trigger('change');
			}
		});
		
		$("#myinput2").knob({
			angleArc : 120,
			angleOffset : -60,
			thickness : ".1",
			width : "100",
			fgColor : "#66CC66",
			change : function(){
				dataX[1][1] = this.cv;
				drawGraph("placeholder1", "line");
				drawGraph("placeholder2", "bar");
				if(this.cv < 30){
					fgColor = "#FFCC11";
				} else if(this.cv >= 30 && this.cv <=80) {
					fgColor = "#66CC66";
				} else {
					fgColor = "#FF0000";
				}
				$("#myinput2")
			    .trigger(
			        'configure',
			        {
			        "fgColor":fgColor
			        }
			    ).trigger('change');
			}
		});
		
		$("#myinput3").knob({
			angleArc : 120,
			angleOffset : -60,
			thickness : ".1",
			width : "100",
			fgColor : "#66CC66",
			change : function(){
				dataX[2][1] = this.cv;
				drawGraph("placeholder1", "line");
				drawGraph("placeholder2", "bar");
				if(this.cv < 30){
					fgColor = "#FFCC11";
				} else if(this.cv >= 30 && this.cv <=80) {
					fgColor = "#66CC66";
				} else {
					fgColor = "#FF0000";
				}
				$("#myinput3")
			    .trigger(
			        'configure',
			        {
			        "fgColor":fgColor
			        }
			    ).trigger('change');
			}
		});
		
		$("#myinput4").knob({
			angleArc : 120,
			angleOffset : -60,
			thickness : ".1",
			width : "100",
			fgColor : "#66CC66",
			change : function(){
				dataX[3][1] = this.cv;
				drawGraph("placeholder1", "line");
				drawGraph("placeholder2", "bar");
				if(this.cv < 30){
					fgColor = "#FFCC11";
				} else if(this.cv >= 30 && this.cv <=80) {
					fgColor = "#66CC66";
				} else {
					fgColor = "#FF0000";
				}
				$("#myinput4")
			    .trigger(
			        'configure',
			        {
			        "fgColor":fgColor
			        }
			    ).trigger('change');
			}
		});
		
		$("#myinput5").knob({
			angleArc : 120,
			angleOffset : -60,
			thickness : ".1",
			width : "100",
			fgColor : "#66CC66",
			change : function(){
				dataX[4][1] = this.cv;
				drawGraph("placeholder1", "line");
				drawGraph("placeholder2", "bar");
				if(this.cv < 30){
					fgColor = "#FFCC11";
				} else if(this.cv >= 30 && this.cv <=80) {
					fgColor = "#66CC66";
				} else {
					fgColor = "#FF0000";
				}
				$("#myinput5")
			    .trigger(
			        'configure',
			        {
			        "fgColor":fgColor
			        }
			    ).trigger('change');
			}
		});
		
		$("#myinput6").knob({
			angleArc : 120,
			angleOffset : -60,
			thickness : ".1",
			width : "100",
			fgColor : "#66CC66",
			change : function(){
				dataX[5][1] = this.cv;
				drawGraph("placeholder1", "line");
				drawGraph("placeholder2", "bar");
				if(this.cv < 30){
					fgColor = "#FFCC11";
				} else if(this.cv >= 30 && this.cv <=80) {
					fgColor = "#66CC66";
				} else {
					fgColor = "#FF0000";
				}
				$("#myInput6")
			    .trigger(
			        'configure',
			        {
			        "fgColor":fgColor,
			        }
			    ).trigger('change');
			}
		});
		var linePlot = drawGraph("placeholder1", "line");
		var barPlot = drawGraph("placeholder2", "bar");
		$("#placeholder1").bind("plothover",  function (event, pos, item) {        
			barPlot.setCrosshair({x: pos.x})
		});
		
		$("#placeholder2").bind("plothover",  function (event, pos, item) {        
			linePlot.setCrosshair({x: pos.x})
		});

	});
	
	var drawGraph = function(placeholder, type){
		var ser = {};
		if(type === "line"){
			ser.lines = { show: true, fill:true, fillColor:"#66CC66" };
		} else if(type === "bar"){
			ser.bars = { show: true, fill:true, fillColor:"#66CC66" };
		}
		ser.points = { show: false };
		var plot = $.plot($("#"+placeholder), [ {color: "33CC00", data: dataX, label: "dummyX"} ], {
            series: ser,
            grid: { hoverable: true, clickable: true, backgroundColor : null, color : "#00FF00", show : true },
            yaxis : {min:0, max : 120},
            crosshair : {mode : "x", color : "#FFFFFF"}
          }			
		)
		return plot;
	}
</script>
</body>
</head>
<body>
	<input type="text" value="75" class="dial" id="myinput1" />
	
	<input type="text" value="20" class="dial" id="myinput2" />
	
	<input type="text" value="30" class="dial" id="myinput3" />
	
	<input type="text" value="10" class="dial" id="myinput4" />
	
	<input type="text" value="9" class="dial" id="myinput5" />
	
	<input type="text" value="50" class="dial" id="myinput6" />		
	
	<div id="placeholder1" class="chart"></div>
	<div id="placeholder2" class="chart"></div>


</html>